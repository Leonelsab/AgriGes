<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Andev web - Validar formulario</title>
    <link rel="stylesheet" href="style.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
      integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
  </head>
  <body>
    <div class="container" id="container">
      <div class="form-container register-container">
        <form id="formRegister">
          <h1>Regístrate aquí</h1>
          <div class="form-control">
            <input type="text" id="username" placeholder="Nombre" />
            <small id="username-error"></small>
            <span></span>
          </div>
          <div class="form-control">
            <input type="email" id="email" placeholder="Correo electrónico" />
            <small id="email-error"></small>
            <span></span>
          </div>
          <div class="form-control">
            <input type="password" id="password" placeholder="Contraseña" />
            <small id="password-error"></small>
            <span></span>
          </div>
          <button type="submit">Registrar</button>
          <span>o usa tu cuenta</span>
          <div class="social-container">
            <a href="#" class="social"
              ><i class="fa-brands fa-facebook-f"></i
            ></a>
            <a href="#" class="social"><i class="fa-brands fa-google"></i></a>
          </div>
        </form>
      </div>

      <div class="form-container login-container">
        <form class="form-lg" id="loginForm">
          <h1>Inicia sesión aquí</h1>
          <div class="form-control2">
            <input type="email" class="email-2" placeholder="Correo electrónico" />
            <small class="email-error-2"></small>
            <span></span>
          </div>
          <div class="form-control2">
            <input type="password" class="password-2" placeholder="Contraseña" />
            <small class="password-error-2"></small>
            <span></span>
          </div>

          <div class="content">
            <div class="checkbox">
              <input type="checkbox" name="checkbox" id="checkbox" />
              <label for="">Recuérdame</label>
            </div>
            <div class="pass-link">
              <a href="#">¿Olvidaste la contraseña?</a>
            </div>
          </div>
          <button type="submit">Iniciar sesión</button>
          <span>O usa tu cuenta</span>
          <div class="social-container">
            <a href="Poceso/Gestión de Cultivo.html">Poceso</a>
            <a href="#" class="social"></a>
          </div>
        </form>
      </div>

      <div class="overlay-container">
        <div class="overlay">
          <div class="overlay-panel overlay-left">
            <h1 class="title">
              Hola <br />
              amigos
            </h1>
            <p>Si tienes una cuenta, inicia sesión aquí y diviértete</p>
            <button class="ghost" id="login">
              Iniciar sesión
              <i class="fa-solid fa-arrow-left"></i>
            </button>
          </div>

          <div class="overlay-panel overlay-right">
            <h1 class="title">
              Comienza tu <br />
              viaje ahora
            </h1>
            <p>
              Si aún no tienes una cuenta, únete a nosotros y comienza tu viaje
            </p>
            <button class="ghost" id="register">
              Registrarse
              <i class="fa-solid fa-arrow-right"></i>
            </button>
          </div>
        </div>
      </div>
    </div>
    <script src="main.js"></script>
    <script type="module">
      // Tu código JavaScript aquí
    </script>
  </body>
</html>

  <script src="main.js"></script>

  <script type="module">

    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.6.0/firebase-app.js";
    import { getDatabase, get, ref ,child } from "https://www.gstatic.com/firebasejs/10.6.0/firebase-database.js";
    import { getAuth, signInWithEmailAndPassword, createUserWithEmailAndPassword  } from "https://www.gstatic.com/firebasejs/10.6.0/firebase-auth.js";

    const firebaseConfig = {
        apiKey: "AIzaSyCo9NUCzbSoGp1O2Vloh_qJt9Snu6FLaMc",
        authDomain: "cultigest-19dde.firebaseapp.com",
        databaseURL: "https://cultigest-19dde-firestore-default-rtdb.firebaseio.com",
        projectId: "cultigest-19dde",
        storageBucket: "cultigest-19dde.appspot.com",
        messagingSenderId: "794697801536",
        appId: "1:794697801536:web:e54821715631a774e364a5"
    };

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const db = getDatabase();
    const auth = getAuth(app);
    const dbref = ref(db);

   // let Nuser = document.getElementById('username');
    //let registerEmail = document.getElementById('emailx');
    //let registerPassword = document.getElementById('password');
    //let registerForm = document.getElementById('formRegister');

    //Registrar usuario
   // const ResgisterUser = e => {
     //   e.preventDefault();
        
        //createUserWithEmailAndPassword(auth, registerEmail.value, registerPassword.value)
          //  .then((credentials) => {
            //    console.log(credentials)
            //})
            //.catch((error) => {
             //   alert(error.message)
      //      })
   // }
   let Nuser = document.getElementById('username');
   let registerEmail = document.getElementById('email');  // Corregir esta línea
   let registerPassword = document.getElementById('password');
   let registerForm = document.getElementById('formRegister');
   
   // Registrar usuario
   const ResgisterUser = e => {
       e.preventDefault();
       
       createUserWithEmailAndPassword(auth, registerEmail.value, registerPassword.value)
           .then((credentials) => {
               console.log(credentials);
           })
           .catch((error) => {
               alert(error.message);
           });
   };
   
   // Agregando evento al formulario
   
   
    //agregando evento al formulario
    registerForm.addEventListener('submit', ResgisterUser);

    //logearse

    let loginForm = document.getElementById('loginForm');
    let loginEmail = document.getElementById('email');
    let loginPassword = document.getElementById('password');

    const LoginUser = e => {
        e.preventDefault();
        
        signInWithEmailAndPassword(auth, loginEmail.value, loginPassword.value)
            .then((credentials) => {
                console.log(credentials)
            })
            .catch((error) => {
                alert(error.message)
            })
    }

    loginForm.addEventListener('submit', LoginUser);
</script>

</html>
